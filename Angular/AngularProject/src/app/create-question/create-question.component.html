<form (ngSubmit)="onSubmit()" class="form-container">
  <div class="fields-container">

    <!-- Sección ID -->
    <mat-form-field class="field">
      <mat-label>Id de la sección</mat-label>
      <mat-select [formControl]="sectionControl" [disabled]="!surveyControl" name="question_section">
        <mat-option *ngFor="let i of idSection" [value]="i">{{i}}</mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Título de la pregunta -->
    <mat-form-field class="field">
      <mat-label>Título de la pregunta</mat-label>
      <input matInput type="text" id="question_title" [(ngModel)]="data.question_title" name="question_title" required>
    </mat-form-field>

    <!-- Tipo de pregunta -->
    <mat-form-field class="field">
      <mat-label>Tipo de pregunta</mat-label>
      <mat-select [(value)]="tipo" (selectionChange)="checkVisibility()" name="question_type">
        <mat-option *ngFor="let option of tipos" [value]="option.value">
          {{ option.viewValue }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Cuerpo de la pregunta -->
    <mat-form-field class="field">
      <mat-label>Cuerpo</mat-label>
      <input matInput [(ngModel)]="cuerpo" placeholder="Escribe el cuerpo de la pregunta" name="question_body">
    </mat-form-field>

    <!-- Respuestas dinámicas -->
    <div *ngIf="showElementsM" class="fields-container">
      <ng-container *ngFor="let respuesta of respuestas; let i = index">
        <mat-form-field class="response-field">
          <mat-label>Respuesta {{i + 1}}</mat-label>
          <input matInput [(ngModel)]="respuestas[i]" placeholder="Escribe la respuesta" name="question_response{{i}}">
        </mat-form-field>
      </ng-container>
      <button mat-raised-button color="primary" (click)="addInput()" type="button" class="add-response-button">Agregar entrada</button>
    </div>
  </div>

  <div class="button-container">
    <button type="submit" mat-flat-button color="primary">Crear</button>
  </div>
</form>
