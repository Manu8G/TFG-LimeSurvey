<div class="container">
  <h1>{{ tipo_flujo }}</h1>
  <div class="array-container">
    <div *ngFor="let item of arrayRelacionEncuestas; let i = index" 
         [class.selected]="item.id === nivel_actual"
         [ngClass]="item.id === nivel_actual ? (encuestaHecha ? 'border-green' : 'border-red') : ''" 
         class="item">
      <div class="id">{{ item.id }}</div>
      <div class="titulo">{{ item.titulo }}</div>
    </div>
  </div>
  <div *ngIf="encuestaHecha" class="completed-message">
    <p>El usuario ha realizado la encuesta.</p>
  </div>
  <button mat-flat-button (click)="mandarCorreo()" *ngIf="!encuestaHecha">Enviar encuesta</button>
  <button mat-flat-button (click)="citaUsuario()">Enviar cita</button>
</div>
